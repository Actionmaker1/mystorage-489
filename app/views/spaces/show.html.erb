<h1>Check out this space!</h1>
<p>What do you think?</p>

<%= cl_image_tag @space.image.key, height: 300, width: 400, crop: :fill %>
<ul>
  <%= display_li_if_exists('location', 'Location') %>
  <%= display_li_if_exists('volume', 'Volume', 'm<sup>3</sup>') %>
  <%= display_li_if_exists('price_per_month', 'Price', '&euro; per month') %>
  <%= display_li_if_exists('condition', 'Condition') %>
  <%= display_li_if_exists('access', 'Access') %>
  <%= display_li_if_exists('description', 'Description') %>
</ul>

<%= link_to "VIEW ALL SPACES", spaces_path, class: 'btn btn-outline-secondary' %>
<%= link_to 'DELETE THIS PLACE', space_path(@space), class: 'btn btn-outline-secondary', method: :delete, data: { confirm: "Are you sure you want to delete this space?" } %>
<%= link_to "BOOK THIS SPACE", new_space_reservation_path(@space), class: 'btn btn-primary' %>

<div class="map" style="background-image: url('https://maps.googleapis.com/maps/api/staticmap?center=<%= @space.location %>&zoom=13&scale=2&size=1000x1000&maptype=roadmap&markers=color:red%7C<%= @space.location %>&key=AIzaSyBtaHK-BLhBg7TruJu8iKk_wETqZMJM-GY')"></div>

<% if !@space.reservations.count.zero? %>
  <h4 class="mt-3">This space is currently booked for the following dates</h2>
  <div class="list">
    <% @space.reservations.each do |reservation| %>
      <div class="reserved_date">
        <div class="date_block">
          <span class="month"><%= reservation.start_date.strftime("%B")[0..2] %></span> <span class="date"><%= reservation.start_date.strftime("%d") %></span>
        </div>
        <% unless reservation.start_date == reservation.end_date %>
          <span> – </span>
          <div class="date_block">
            <span class="month"><%= reservation.end_date.strftime("%B")[0..2] %></span> <span class="date"><%= reservation.end_date.strftime("%d") %></span>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
